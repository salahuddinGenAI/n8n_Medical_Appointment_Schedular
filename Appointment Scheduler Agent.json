{
  "name": "Appointment Scheduler Agent",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "mode": "webhook",
        "options": {}
      },
      "id": "<NODE_ID_WEBHOOK>",
      "name": "Website Chat Widget",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [-400, 80],
      "webhookId": "<WEBHOOK_ID>"
    },
    {
      "parameters": {},
      "id": "<NODE_ID_MEMORY>",
      "name": "Conversation Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [-384, 272]
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [-384, 464],
      "id": "<NODE_ID_GEMINI>",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "<GEMINI_API_CREDENTIAL_ID>",
          "name": "<GEMINI_API_CREDENTIAL_NAME>"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "<CALENDAR_EMAIL>",
          "mode": "list",
          "cachedResultName": "<CALENDAR_NAME>"
        },
        "returnAll": true,
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendar",
      "typeVersion": 1.3,
      "position": [144, 704],
      "id": "<NODE_ID_GET_EVENTS>",
      "name": "Get Upcoming Appointments",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "<GOOGLE_CALENDAR_CREDENTIAL_ID>",
          "name": "<GOOGLE_CALENDAR_CREDENTIAL_NAME>"
        }
      }
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "<CALENDAR_EMAIL>",
          "mode": "id"
        },
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [64, 384],
      "id": "<NODE_ID_CREATE_EVENT>",
      "name": "Create New Appointments",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "<GOOGLE_CALENDAR_CREDENTIAL_ID>",
          "name": "<GOOGLE_CALENDAR_CREDENTIAL_NAME>"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "<GROUP_CALENDAR_ID>",
          "mode": "list",
          "cachedResultName": "<GROUP_CALENDAR_NAME>"
        },
        "returnAll": "={{ $fromAI('Return_All', '', 'boolean') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [-64, 320],
      "id": "<NODE_ID_CHECK_AVAILABILITY>",
      "name": "Check Availability",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "<GOOGLE_CALENDAR_CREDENTIAL_ID>",
          "name": "<GOOGLE_CALENDAR_CREDENTIAL_NAME>"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Business logic intentionally unchanged\n// No secrets found in this block"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [352, 704],
      "id": "<NODE_ID_CODE>",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "rule": {
          "interval": [{ "field": "minutes", "minutesInterval": 30 }]
        }
      },
      "id": "<NODE_ID_CRON>",
      "name": "Check Every 30 Minutes",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [-96, 704]
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "<GOOGLE_SHEET_DOCUMENT_ID>",
          "mode": "list",
          "cachedResultName": "<SHEET_NAME>"
        }
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [496, 256],
      "id": "<NODE_ID_SHEETS>",
      "name": "Patient Scheduling Log",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "<GOOGLE_SHEETS_CREDENTIAL_ID>",
          "name": "<GOOGLE_SHEETS_CREDENTIAL_NAME>"
        }
      }
    }
  ],
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "<WORKFLOW_VERSION_ID>",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "<N8N_INSTANCE_ID>"
  },
  "id": "<WORKFLOW_ID>",
  "tags": []
}
